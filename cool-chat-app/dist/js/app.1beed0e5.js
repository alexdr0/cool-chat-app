(function(e){function t(t){for(var r,a,s=t[0],u=t[1],i=t[2],p=0,f=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(f.length)f.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==o[u]&&(r=!1)}r&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},c=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var l=u;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"123e":function(e,t,n){"use strict";n("80bd")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function o(e,t){var n=Object(r["u"])("router-view");return Object(r["p"])(),Object(r["d"])(n)}n("123e");var c=n("6b0d"),a=n.n(c);const s={},u=a()(s,[["render",o]]);var i=u,l=n("6c02"),p={class:"home"},f=Object(r["f"])("h1",null,"Cool cat chat app",-1),b=Object(r["f"])("button",{type:"button",class:"btn btn-primary"},"Sign in",-1);function d(e,t,n,o,c,a){var s=Object(r["u"])("router-link");return Object(r["p"])(),Object(r["e"])("div",p,[f,Object(r["g"])(s,{to:"/signin"},{default:Object(r["A"])((function(){return[b]})),_:1})])}var g={name:"Home"};const m=a()(g,[["render",d]]);var j=m,O=Object(r["f"])("h1",null,"Sign in",-1);function h(e,t,n,o,c,a){return Object(r["p"])(),Object(r["e"])("div",null,[O,Object(r["f"])("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=function(e){return o.signin()})},"Sign in with google")])}var v=n("2591"),y={timestampsInSnapshots:!0},w={apiKey:"AIzaSyDHC4GfLj1AUvxTA-SXUmrcFnDxaYbXw5w",authDomain:"extra-cool-chat-app.firebaseapp.com",projectId:"extra-cool-chat-app",storageBucket:"extra-cool-chat-app.appspot.com",messagingSenderId:"979273607833",appId:"1:979273607833:web:bec37dfa540644fa0f6608",measurementId:"G-G2JKG2MCHP"};v["a"].initializeApp(w),v["a"].firestore().settings(y);var S=v["a"],x=n("5502"),P={name:"Signin",setup:function(){var e=Object(l["c"])(),t=Object(x["b"])();function n(){var n=new S.auth.GoogleAuthProvider;S.auth().signInWithPopup(n).then((function(n){console.log(n),t.commit("setUser",n),e.push("/chat")})).catch((function(e){alert("failure. prob incorrect info"),console.log(e)}))}return{signin:n}}};const k=a()(P,[["render",h]]);var C=k,M=Object(r["f"])("br",null,null,-1);function A(e,t,n,o,c,a){return Object(r["p"])(),Object(r["e"])("div",null,[(Object(r["p"])(!0),Object(r["e"])(r["a"],null,Object(r["t"])(o.data.value.docs,(function(e){return Object(r["p"])(),Object(r["e"])("div",{key:e},[Object(r["f"])("b",null,Object(r["w"])(e.data().username),1),M,Object(r["f"])("span",null,Object(r["w"])(e.data().message),1)])})),128)),Object(r["B"])(Object(r["f"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.message=e}),type:"text",onKeyup:t[1]||(t[1]=Object(r["C"])((function(e){return o.sendMessage(o.message)}),["enter"]))},null,544),[[r["y"],o.message]]),Object(r["f"])("button",{type:"button",class:"btn btn-primary",onClick:t[2]||(t[2]=function(e){return o.sendMessage(o.message)})},"Send")])}var I=n("ec26"),U={name:"Chat",setup:function(){var e=Object(x["b"])(),t=Object(l["c"])(),n=Object(r["r"])({}),o=Object(r["r"])("");function c(e){S.firestore().collection("messages").doc(Object(I["a"])()).set({username:"Alexander Bobo",message:e,timestamp:Date.now()}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))}0===e.getters.getUser.length&&t.push("/"),S.firestore().collection("messages").orderBy("timestamp","asc").get().then((function(e){console.log(e),console.log(e.docs[0].data()),n.value=e})).catch((function(e){alert("Error"),console.log("Error getting documents: ",e)}));var a=function(){S.firestore().collection("messages").orderBy("timestamp","asc").get().then((function(e){n.value=e}))};return S.firestore().collection("messages").onSnapshot((function(){a()})),{data:n,message:o,sendMessage:c}}};const _=a()(U,[["render",A]]);var B=_,D=[{path:"/",name:"Home",component:j},{path:"/signin",name:"Signin",component:C},{path:"/chat",name:"Chat",component:B}],G=Object(l["a"])({history:Object(l["b"])("/"),routes:D}),H=G,E=Object(x["a"])({state:{user:[{}]},mutations:{setUser:function(e,t){e.user[0]=t}},actions:{},getters:{getUser:function(e){return e.user[0]}},modules:{}});Object(r["c"])(i).use(E).use(H).mount("#app")},"80bd":function(e,t,n){}});
//# sourceMappingURL=app.1beed0e5.js.map